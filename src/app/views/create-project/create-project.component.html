<app-header
[username]="username"
(logout)="onLogout()"></app-header>
<div class="create-page">
  <mat-card class="card">
    <mat-card-header>
      <mat-card-title>Crear Nuevo Proyecto</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" novalidate>
        <!-- Nombre -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="name" placeholder="Nombre del proyecto" />
          <mat-error *ngIf="projectForm.get('name')?.hasError('required')">
            El nombre es requerido.
          </mat-error>
          <mat-error *ngIf="projectForm.get('name')?.hasError('maxLength')">
            Máximo 100 caracteres.
          </mat-error>
        </mat-form-field>

        <!-- Descripción -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Descripción</mat-label>
          <textarea
            matInput
            formControlName="description"
            placeholder="Descripción"
            rows="4"
          ></textarea>
          <mat-error *ngIf="projectForm.get('description')?.hasError('maxLength')">
            Máximo 500 caracteres.
          </mat-error>
        </mat-form-field>

        <!-- Botones -->
        <div class="buttons">
          <button
            mat-stroked-button
            color="primary"
            routerLink="/select-projects"
            type="button"
          >
            <mat-icon>arrow_back</mat-icon>
            Volver
          </button>
          <button
            mat-flat-button
            color="accent"
            type="submit"
            [disabled]="submitting || projectForm.invalid"
          >
            <mat-icon *ngIf="!submitting">save</mat-icon>
            {{ submitting ? '' : 'Crear Proyecto' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
