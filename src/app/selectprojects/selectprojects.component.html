
<app-header
  [username]="username"
  (logout)="onLogout()">
></app-header>
<div class="select-page">
  <h1 class="greeting">Bienvenid {{ username }}</h1>
  <p class="subtitle">Escoge tu proyecto</p>

  <div *ngIf="loading" class="loading">Cargando proyectosâ€¦</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div class="projects-grid" *ngIf="!loading && !error && projects.length > 0">
  <mat-card
    *ngFor="let p of projects"
    class="project-card"
    [routerLink]="['/projects']"
    (click)="selectProject(p)"
  >
    <button
      mat-icon-button
      class="delete-btn"
      (click)="onDelete(p, $event)"
      aria-label="Eliminar proyecto"
    >
      <mat-icon>delete</mat-icon> 
    </button>

    <div class="card-header">
      <span class="project-name">{{ p.name }}</span>
    </div>
  </mat-card>
</div>

  <div
    *ngIf="!loading && !error && projects.length === 0"
    class="no-projects"
  >
    No tienes proyectos asignados.
  </div>

  <button
    mat-fab
    color="primary"
    class="fab-add"
    (click)="createProject()"
  >
    <mat-icon>add</mat-icon>
  </button>
</div>
